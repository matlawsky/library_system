{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
{% if user.is_authenticated %}
<main>
  <div class="container px-4 py-5">
    <h2 class="pb-2 border-bottom">Account balance</h2>
    <div class="row row-cols-1 row-cols-md-2 align-items-md-center g-5 py-5">
      <div class="d-flex flex-column align-items-start gap-2">
        <h3 class="fw-bold">Manage payments</h3>
        <p class="text-muted">
          Each day you hold the single book that is overrdued - 0.30 PLN are added to fees amount.
          You can pay using your credits held on your account and you can directly pay the fees.
          To borrow another book you need to return all overdued books and pay fees.
          If you have enough credits on your account to cover the values of overdued books,
          you can borrow another book having them still overdued.
        </p>
        <a href="#" class="btn btn-danger btn-lg">Pay your fees</a>
        <a href="#" class="btn btn-primary btn-lg">Add funds to account</a>
      </div>
      <div class="row row-cols-1 row-cols-sm-2 g-4">
        <div class="d-flex flex-column gap-2">
          <div
            class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-success bg-gradient fs-4 rounded-3">
            <svg class="bi" width="1em" height="1em">
              <use xlink:href="#collection" />
            </svg>
          </div>
          <h4 class="fw-semibold mb-0">Books read</h4>
          <p class="text-muted">15</p>
        </div>

        <div class="d-flex flex-column gap-2">
          <div
            class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-warning bg-gradient fs-4 rounded-3">
            <svg class="bi" width="1em" height="1em">
              <use xlink:href="#gear-fill" />
            </svg>
          </div>
          <h4 class="fw-semibold mb-0">Books overdued</h4>
          <p class="text-muted">3</p>
        </div>

        <div class="d-flex flex-column gap-2">
          <div
            class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-danger bg-gradient fs-4 rounded-3">
            <svg class="bi" width="1em" height="1em">
              <use xlink:href="#speedometer" />
            </svg>
          </div>
          <h4 class="fw-semibold mb-0">Fees to pay</h4>
          <p class="text-muted">12.50</p>
        </div>

        <div class="d-flex flex-column gap-2">
          <div
            class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3">
            <svg class="bi" width="1em" height="1em">
              <use xlink:href="#table" />
            </svg>
          </div>
          <h4 class="fw-semibold mb-0">Balance of account</h4>
          <p class="text-muted">50.00</p>
        </div>
      </div>
    </div>
    <h2 class="pb-2 border-bottom">Account details</h2>
    <div class="row justify-content-md-center">
      <div class="col col-lg-2"></div>
      <div class="col-md-auto">
        <div class="form-floating">
          <form method="post"> {% csrf_token %}
            <!-- {{ form | crispy }} -->
            <!-- <label class="form-label">Username: {{user.username}}</label>
              <label class="form-label">Username: {{user.first_name}}</label>
              <label class="form-label">Username: {{user.last_name}}</label> -->
            {{ form.username | as_crispy_field }}
            {{ form.email | as_crispy_field }}
            {{ form.first_name | as_crispy_field }}
            {{ form.last_name | as_crispy_field }}
            {{ form.birth_date | as_crispy_field }}

            <input class="w-100 btn btn-lg btn-success" type="change_details" value="Change details"></input>
          </form>
        </div>
      </div>
      <div class="col col-lg-2"></div>
    </div>
    <br>
    <div class="d-flex flex-column align-items-center gap-2">
      <a href="{% url 'password_change' %}" class="btn btn-warning btn-lg">Change password</a>
    </div>
  </div>
  </div>
</main>
{% else %}
<main>
  <div class="container px-4 py-5">
    <h2 class="pb-2 border-bottom">You are not a user</h2>
  </div>
</main>
{% endif %}
{% endblock %}